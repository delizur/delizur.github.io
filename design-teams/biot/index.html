<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>UBC BIoT · Danny Elizur</title>
  <meta name="description" content="UBC Biological Internet of Things — instrumentation and monitoring." />
  <link rel="icon" href="/assets/favicon.png" />
  <link rel="stylesheet" href="/assets/css/site-base.css">
  <style>
  :root{--bg:#ffffff;--panel:#f8fafc;--text:#0f172a;--muted:#334155;--brand:#38bdf8;--accent:#c084fc;--ring:#22d3ee}
  body{margin:0;font-family:ui-sans-serif,system-ui,Segoe UI,Roboto,Helvetica,Arial;background:var(--bg);color:var(--text);font-size:17px}
    header{background:var(--panel);padding:12px 16px;border-bottom:1px solid rgba(15,23,42,.06)}
    .nav{max-width:1000px;margin:auto;display:flex;align-items:center;justify-content:space-between}
  .brand{display:flex;gap:10px;align-items:center;font-weight:700;letter-spacing:.3px}
  .brand .dot{width:10px;height:10px;border-radius:999px;background:linear-gradient(135deg,#38bdf8,#c084fc);box-shadow:0 0 0 3px rgba(56,189,248,0.3)}
  .nav > div{display:flex;align-items:center;gap:8px}
  /* match homepage nav link appearance/hover
  .nav a{padding:8px 10px;border-radius:10px}
  .nav a:hover{outline:1px dashed color-mix(in oklab, var(--brand, #38bdf8) 40%, transparent)} */
  /* Improved icon sizing to avoid clipping and match homepage */
  .nav .icon, .pill .icon, svg.icon{width:20px;height:20px;display:inline-block;vertical-align:middle;overflow:visible}
  /* Ensure SVGs inside nav/pill/button are not clipped and align nicely */
  svg.icon, .nav svg, .pill svg{overflow:visible}
  .nav, .pill, .btn{overflow:visible;line-height:1;display:flex;align-items:center}
  .pill{display:inline-flex;gap:6px;align-items:center;padding:6px 10px;border-radius:999px;border:1px solid rgba(15,23,42,0.06)}
  .pill svg, .btn svg{display:block}
  /* prevent stroke scaling issues that sometimes clip artwork */
  svg.icon *{vector-effect:non-scaling-stroke}
  /* Button styling consistent with homepage */
  .btn{display:inline-flex;align-items:center;gap:8px;padding:8px 10px;border-radius:12px;background:linear-gradient(135deg,#38bdf8,#c084fc);color:#06131c;font-weight:700;border:none;cursor:pointer;position:relative}
  .btn:focus{outline:3px solid #22d3ee}
  /* underline for theme/resume button (match homepage behavior) */
  .btn::after{content:'';position:absolute;left:8px;right:8px;bottom:6px;height:2px;background:#000;transform:scaleX(0);transform-origin:left center;transition:transform .16s ease,opacity .16s ease;border-radius:2px;opacity:0}
  .btn:hover::after,.btn:focus::after{transform:scaleX(1);opacity:1}
    .nav a{color:inherit;text-decoration:none;margin-left:10px}
    /* make nav links match homepage: padded, rounded, and show dashed outline on hover */
    .nav a{padding:8px 10px;border-radius:10px}
    .nav a:hover{outline:1px dashed color-mix(in oklab, var(--brand, #38bdf8) 40%, transparent)}
    main{max-width:1000px;margin:24px auto;padding:24px}
  .card{background:var(--panel);border-radius:12px;padding:20px;border:1px solid rgba(15,23,42,.04)}
  .back-home{display:inline-block;color:var(--muted);text-decoration:none;margin-bottom:12px}
  .back-home:hover{text-decoration:underline}
  img{max-width:100%;height:auto;border-radius:10px;display:block}
  .figure-wrap{position:relative;flex:0 0 calc(50% - 12px);width:calc(50% - 12px);aspect-ratio:16/9;overflow:hidden;min-width:140px}
  .figure-wrap .caption{position:absolute;left:8px;right:8px;bottom:8px;padding:6px 10px;background:rgba(255,255,255,0.9);color:var(--text);font-size:0.9rem;border-radius:8px;opacity:0;transform:translateY(6px);transition:opacity .18s,transform .18s}
  .figure-wrap:hover .caption{opacity:1;transform:none}
  .gallery{display:flex;gap:12px;flex-wrap:wrap;margin:12px 0}
  .figure-empty{width:100%;min-height:160px;border-radius:10px;background:transparent}
  .figure-wrap img{width:100%;height:100%;object-fit:contain;object-position:center;display:block}
  /* BIoT logo: center on a white pad so the logo sits nicely in the wide frame */
  .figure-wrap img[alt="UBC BIoT"]{width:auto;height:auto;max-width:85%;max-height:85%;margin:0 auto;display:block;object-fit:contain;background:#fff}
  .figure-wrap.biot{background:#fff}
  @media (max-width:700px){.figure-wrap{flex-basis:100%;max-width:100%}}
    footer{max-width:1000px;margin:40px auto;color:var(--muted);padding:0 24px}
    .tags{margin:10px 0}
    .tag{display:inline-block;background:rgba(15,23,42,0.03);padding:6px 10px;border-radius:999px;margin-right:8px;color:var(--muted)}
    /* Dark mode support (system + class override) */
    @media (prefers-color-scheme: dark){
      :root{--bg:#0b1220;--panel:#0f1724;--text:#e6eef8;--muted:#9fb2c9}
      body{background:var(--bg);color:var(--text)}
      header, .card{background:var(--panel)}
      .figure-wrap .caption{background:rgba(6,10,16,0.7);color:var(--text)}
      .img-modal{background:rgba(2,6,23,0.85)}
      .img-close{color:#fff}
    }
    html.dark, body.dark{--bg:#0b1220;--panel:#0f1724;--text:#e6eef8;--muted:#9fb2c9}
  </style>
  <link rel="stylesheet" href="/assets/css/dark-caption-fix.css">
</head>
<body>
  <header>
    <nav class="nav" aria-label="Primary">
      <a class="brand" href="/"><span class="dot" aria-hidden="true"></span> <span>Danny Elizur</span></a>
      <div class="row">
  <a href="/#about">About</a>
  <a href="/#projects">Projects</a>
  <a href="/#design-teams">Design Teams</a>
  <a href="/#experience">Experience</a>
  <a href="/#education">Education</a>
  <a href="/#contact">Contact</a>
        <button id="theme" class="btn" aria-label="Toggle theme" style="margin-left:8px;font-size:0.95rem;padding:8px 10px"><svg class="icon" viewBox="-2 -2 28 28" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="width:16px;height:16px;vertical-align:middle;margin-right:6px"><path d="M12 3v2m0 14v2M3 12h2m14 0h2M5.64 5.64l1.41 1.41M16.95 16.95l1.41 1.41M5.64 18.36l1.41-1.41M16.95 7.05l1.41-1.41"/><circle cx="12" cy="12" r="5"/></svg><span style="vertical-align:middle">Theme</span></button>
      </div>
    </nav>
  </header>

  <main>
    <article class="card">
      <div style="margin-bottom:8px"><a class="back-home" href="/">← Back to home</a></div>
      <h1>UBC Biological Internet of Things</h1>
      <p style="color:var(--muted);margin-top:6px">Instrumentation & monitoring for an automated brewing system</p>
      <span class="tag">Circuit Design</span><span class="tag">ESP32</span><span class="tag">PCB Design</span><span class="tag">I2C</span><span class="tag">MQTT</span>

      <div class="gallery">
        <div class="figure-wrap biot"><img src="/assets/BIoT/brewbox-photo.rotated.jpg" alt="BrewBox circuit breadboarded prototype"><div class="caption" data-for="BrewBox Circuit Prototype">BrewBox Circuit Prototype</div></div>
      </div>

  <p style="color:var(--muted)">I’m a member of the instrumentation team on the UBC Biological Internet of Things (BIoT) design team. The team is building a fully automated beer fermentation system. The instrumentation team is designing and implementing a full brew monitoring system, checking pH level, temperature, dissolved oxygen, and other relevant metrics. All sensors are controlled by an ESP32 which is connected to a Local Area Network communicating via the MQTT protocol to publish sensor data. An external Wi-Fi network is used to update brew information to our website, allowing remote monitoring of the brew at all times. My responsibilities include designing the ESP32 sensor circuit (called BrewBox), along with managing the software, and eventual PCB design.</p>

    </article>
  </main>

  <script>
    // Apply persisted theme from root site (if present) so project pages follow the site toggle.
    (function(){ try{ const theme = localStorage.getItem('theme'); if(theme==='dark') document.documentElement.classList.add('dark'); else if(theme==='light') document.documentElement.classList.remove('dark'); }catch(e){} })();

    // Theme toggle on project pages: mirror the homepage behavior
    (function(){
      try{
        const btn = document.getElementById('theme');
        function applyTheme(t){ document.documentElement.classList.remove('light','dark'); if(t==='light') document.documentElement.classList.add('light'); else if(t==='dark') document.documentElement.classList.add('dark'); localStorage.setItem('theme', t); }
        btn && btn.addEventListener('click', function(){ const cur = document.documentElement.classList.contains('light') ? 'light' : 'dark'; applyTheme(cur==='light' ? 'dark' : 'light'); });
      }catch(e){}
    })();

    (function(){
      document.querySelectorAll('.figure-wrap').forEach(function(f){
        const img = f.querySelector('img');
        const cap = f.querySelector('.caption');
        if(!img || !cap) return;
        cap.textContent = img.getAttribute('data-caption') || img.alt || '';
      });

      // Image lightbox modal (shared behavior)
      (function(){
        const modal = document.createElement('div'); modal.id = 'img-modal'; modal.className = 'img-modal'; modal.setAttribute('aria-hidden','true');
        modal.innerHTML = `<div class="img-modal-content"><button id="img-close" class="img-close" aria-label="Close image">✕</button><img id="img-modal-img" alt=""/><div id="img-modal-caption" style="margin-top:8px;color:var(--muted)"></div></div>`;
        document.body.appendChild(modal);
        const style = document.createElement('style');
        style.textContent = `
  .img-modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(2,6,23,.6);z-index:10000;padding:24px}
  .img-modal[aria-hidden="false"]{display:flex}
  .img-modal-content{max-width:1000px;width:100%;background:transparent;border-radius:8px;text-align:center;display:flex;align-items:center;justify-content:center;flex-direction:column}
  .img-modal-content img{max-width:100%;max-height:80vh;height:auto;object-fit:contain;border-radius:8px;margin:0 auto}
  .img-close{position:absolute;right:28px;top:24px;background:transparent;border:0;color:#fff;font-size:28px;cursor:pointer}
  `;
        document.head.appendChild(style);
        const imgEl = document.getElementById('img-modal-img');
        const capEl = document.getElementById('img-modal-caption');
        const imgClose = document.getElementById('img-close');
        function openImg(src, alt){ imgEl.src = src; imgEl.alt = alt||''; capEl.textContent = alt||''; modal.setAttribute('aria-hidden','false'); }
        function closeImg(){ modal.setAttribute('aria-hidden','true'); imgEl.src=''; }
        document.querySelectorAll('.figure-wrap img').forEach(function(i){ i.style.cursor='zoom-in'; i.addEventListener('click', function(e){ e.preventDefault(); openImg(this.src, this.alt||''); }); });
        imgClose && imgClose.addEventListener('click', closeImg);
        modal.addEventListener('click', function(e){ if(e.target !== imgEl) closeImg(); });
        document.addEventListener('keydown', function(e){ if(e.key==='Escape') closeImg(); });
      })();
    })();
  </script>
  <script src="/assets/js/theme-toggle.js"></script>
</body>
</html>
