<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Autonomous Robot · Danny Elizur</title>
  <meta name="description" content="Designed and built a fully autonomous robot as part of a competition course.">
  <link rel="icon" href="/assets/favicon.png" />
    <link rel="stylesheet" href="/assets/css/site-base.css">
    <style>
  :root{--bg:#ffffff;--panel:#f8fafc;--text:#0f172a;--muted:#334155;--brand:#38bdf8;--accent:#c084fc;--ring:#22d3ee}
  body{margin:0;font-family:ui-sans-serif,system-ui,Segoe UI,Roboto,Helvetica,Arial;background:var(--bg);color:var(--text);font-size:17px}
    header{background:var(--panel);padding:12px 16px;border-bottom:1px solid rgba(15,23,42,.06)}
  .nav{max-width:1000px;margin:auto;display:flex;align-items:center;justify-content:space-between}
  .brand{display:flex;gap:10px;align-items:center;font-weight:700;letter-spacing:.3px}
  .brand .dot{width:10px;height:10px;border-radius:999px;background:linear-gradient(135deg,#38bdf8,#c084fc);box-shadow:0 0 0 3px rgba(56,189,248,0.3)}
  .nav > div{display:flex;align-items:center;gap:8px}
  /* Improved icon sizing to avoid clipping and match homepage */
  .nav .icon, .pill .icon, svg.icon{width:20px;height:20px;display:inline-block;vertical-align:middle;overflow:visible}
  /* Ensure SVGs inside nav/pill/button are not clipped and align nicely */
  svg.icon, .nav svg, .pill svg{overflow:visible}
  .nav, .pill, .btn{overflow:visible;line-height:1;display:flex;align-items:center}
  .pill{display:inline-flex;gap:6px;align-items:center;padding:6px 10px;border-radius:999px;border:1px solid rgba(15,23,42,0.06)}
  .pill svg, .btn svg{display:block}
  /* prevent stroke scaling issues that sometimes clip artwork */
  svg.icon *{vector-effect:non-scaling-stroke}
  /* Button styling consistent with homepage */
  .btn{display:inline-flex;align-items:center;gap:8px;padding:8px 10px;border-radius:12px;background:linear-gradient(135deg,#38bdf8,#c084fc);color:#06131c;font-weight:700;border:none;cursor:pointer}
  .btn:focus{outline:3px solid #22d3ee}
    .nav a{color:inherit;text-decoration:none;margin-left:10px}
    /* match homepage nav link appearance/hover */
    .nav a{padding:8px 10px;border-radius:10px}
    .nav a:hover{outline:1px dashed color-mix(in oklab, var(--brand, #38bdf8) 40%, transparent)}
    main{max-width:1000px;margin:24px auto;padding:24px}
    .card{background:var(--panel);border-radius:12px;padding:20px;border:1px solid rgba(15,23,42,.04)}
    img{max-width:100%;height:auto;border-radius:10px;display:block}
    /* image caption overlay */
    .figure-wrap{position:relative;display:block}
    .figure-wrap .caption{position:absolute;left:8px;right:8px;bottom:8px;padding:6px 10px;background:rgba(255,255,255,0.9);color:var(--text);font-size:0.9rem;border-radius:8px;opacity:0;transform:translateY(6px);transition:opacity .18s,transform .18s}
    .figure-wrap:hover .caption{opacity:1;transform:none}
  .gallery{display:flex;gap:12px;flex-wrap:wrap;margin:12px 0}
  /* two-up layout: fixed 50% columns when possible, with a smaller min-width to allow side-by-side on narrower windows */
  .figure-wrap{flex:0 0 calc(50% - 12px);width:calc(50% - 12px);aspect-ratio:16/9;overflow:hidden;min-width:140px}
  /* show the entire image without cropping */
  .figure-wrap img{width:100%;height:100%;object-fit:contain;object-position:center;display:block}
  /* ensure video thumbnail matches figure sizing and doesn't blow out */
  .video-thumb{flex:1 1 calc(48% - 12px);max-width:calc(48% - 12px);aspect-ratio:16/9;overflow:hidden;display:block}
  .video-thumb img{width:100%;height:100%;object-fit:contain;object-position:center;display:block}
  /* Ensure fullscreen video keeps aspect ratio for portrait videos */
  video:fullscreen, video:-webkit-full-screen, .figure-wrap video:fullscreen, .figure-wrap video:-webkit-full-screen{
    /* let the browser size based on intrinsic aspect, but constrain to viewport */
    width: auto !important;
    height: auto !important;
    max-height: 100vh !important;
    max-width: 100vw !important;
    object-fit: contain !important;
    transform: none !important;
  }

  /* (removed forced-rotation styles - using native player) */
  @media (max-width:700px){.figure-wrap{flex-basis:100%;max-width:100%}}
  /* Video thumbnail and modal styles */
  .video-thumb{position:relative;display:block;overflow:hidden;border-radius:10px}
  .video-thumb img{display:block;width:100%;height:100%;object-fit:contain;object-position:center}
  .video-thumb .play-button{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);background:rgba(2,6,23,.6);color:white;width:68px;height:68px;border-radius:999px;display:grid;place-items:center;font-size:28px;box-shadow:0 6px 18px rgba(2,8,23,.5)}
  .video-modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(2,6,23,.6);z-index:9999;padding:24px}
  .video-modal[aria-hidden="false"]{display:flex}
  .video-modal-content{max-width:1000px;width:100%;background:var(--panel);padding:12px;border-radius:10px}
  .back-home{display:inline-block;color:var(--muted);text-decoration:none;margin-bottom:12px}
  .back-home:hover{text-decoration:underline}
  .video-close{position:absolute;right:18px;top:18px;background:transparent;border:0;color:var(--muted);font-size:28px;cursor:pointer}
    footer{max-width:1000px;margin:40px auto;color:var(--muted);padding:0 24px}
    .tags{margin:10px 0}
    .tag{display:inline-block;background:rgba(15,23,42,0.03);padding:6px 10px;border-radius:999px;margin-right:8px;color:var(--muted)}
    /* Dark mode support: system preference and an explicit html.dark / body.dark override */
    @media (prefers-color-scheme: dark){
      :root{--bg:#0b1220;--panel:#0f1724;--text:#e6eef8;--muted:#9fb2c9}
      body{background:var(--bg);color:var(--text)}
      header, .card, .video-modal-content{background:var(--panel)}
      .figure-wrap .caption{background:rgba(6,10,16,0.7);color:var(--text)}
      .img-modal{background:rgba(2,6,23,0.85)}
      .img-close, .video-close{color:#fff}
    }
    html.dark, body.dark{--bg:#0b1220;--panel:#0f1724;--text:#e6eef8;--muted:#9fb2c9}
  </style>
  <link rel="stylesheet" href="/assets/css/dark-caption-fix.css">
</head>
<body>
  <header>
    <nav class="nav" aria-label="Primary">
      <a class="brand" href="/"><span class="dot" aria-hidden="true"></span> <span>Danny Elizur</span></a>
    <div class="row">
  <a href="/#about">About</a>
  <a href="/#projects">Projects</a>
  <a href="/#design-teams">Design Teams</a>
  <a href="/#experience">Experience</a>
  <a href="/#education">Education</a>
  <a href="/#contact">Contact</a>
        <button id="theme" class="btn" aria-label="Toggle theme" style="margin-left:8px;font-size:0.95rem;padding:8px 10px"><svg class="icon" viewBox="-2 -2 28 28" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="width:16px;height:16px;vertical-align:middle;margin-right:6px"><path d="M12 3v2m0 14v2M3 12h2m14 0h2M5.64 5.64l1.41 1.41M16.95 16.95l1.41 1.41M5.64 18.36l1.41-1.41M16.95 7.05l1.41-1.41"/><circle cx="12" cy="12" r="5"/></svg><span style="vertical-align:middle">Theme</span></button>
      </div>
    </nav>
  </header>

  <main>
    <article class="card">
      <div style="margin-bottom:8px"><a class="back-home" href="/">← Back to home</a></div>
      <h1>Autonomous Robot</h1>
      <p style="color:var(--muted);margin-top:6px">Autonomous line-following robot</p>
      <div class="tags">
        <span class="tag">Onshape CAD</span><span class="tag">Circuit Design</span><span class="tag">O-Scope Debugging</span><span class="tag">Soldering</span><span class="tag">ESP32</span>
      </div>

      <div class="gallery">
          <div class="figure-wrap"><img src="/assets/Autonomous%20Robot/Marshall_Photo.jpg" alt="A picture of Marshall (our robot)"><div class="caption" data-for="Marshall_Photo">Robot — front view</div></div>
          <div class="figure-wrap"><img src="/assets/Autonomous%20Robot/Team_Photo.jpg" alt="Team photo"><div class="caption" data-for="Team_Photo">Team photo</div></div>
        <!-- removed thumbnail-with-play-overlay; video is embedded inline below -->
      </div>

      <div class="figure-wrap">
        <video controls muted playsinline preload="metadata" data-caption="Rotary encoder demo" style="width:100%;height:100%;display:block;border-radius:8px;object-fit:contain">
          <source src="/assets/Autonomous%20Robot/Rotary_Encoder_Operation.mp4" type="video/mp4">
          Your browser does not support the video tag.
        </video>
        <div class="caption">Rotary encoder demo</div>
      </div>

  <p style="color:var(--muted)">As part of my program, I took a project course that involved the design and manufacturing of a fully functional line following robot. The project was a design competition among my peers, where each team had to build a “pet rescue” robot capable of rescuing pets from a burning building. Essentially, our robots were to navigate an obstacle course with stuffed animals (the “pets” needing rescue), identify the pets, collect them, and return them to a safe zone.</p>
  <p style="color:var(--muted)">This project gave me experience in mechanical, electrical, and even software design. All of our mechanical parts were designed in Onshape and manufactured via laser cutter or 3D printed. All of our electrical components made use of circuits that we had to design, prototype and solder ourselves. We made use of numerous different sensors (LiDAR, sonar, hall effect, reflectance), limit switches with debounce circuits, H-bridges, a rotary encoder, servos, and more. All components were managed by an ESP32 (Arduino-style microcontroller) with the software programmed in C/C++. The project taught us about PID (for line following), some control theory, as well as I2C communication.</p>
  <p style="color:var(--muted)">The course was an incredible opportunity to get hands on experience with mechanical and electrical design, and the fast-paced nature of the course made it intense and rewarding. The project also served as a great experience to develop project management skills, time management skills, and practice communicating and collaborating with a technical team to achieve a common goal – working through conflicts together and ensuring everyone is on the same page.</p>
      
    </article>
  </main>

  <footer>
    <div style="text-align:center;padding:16px;color:var(--muted)">© <span id="year">2025</span> Danny Elizur</div>
  </footer>
  <script>
    // Apply persisted theme from root site (if present) so project pages follow the site toggle.
    (function(){ try{ const theme = localStorage.getItem('theme'); if(theme==='dark') document.documentElement.classList.add('dark'); else if(theme==='light') document.documentElement.classList.remove('dark'); }catch(e){} })();
    // Set current year
    document.getElementById('year').textContent = new Date().getFullYear();
    // Theme toggle on project pages: mirror the homepage behavior
    (function(){
      try{
        const btn = document.getElementById('theme');
        function applyTheme(t){ document.documentElement.classList.remove('light','dark'); if(t==='light') document.documentElement.classList.add('light'); else if(t==='dark') document.documentElement.classList.add('dark'); localStorage.setItem('theme', t); }
        btn && btn.addEventListener('click', function(){ const cur = document.documentElement.classList.contains('light') ? 'light' : 'dark'; applyTheme(cur==='light' ? 'dark' : 'light'); });
      }catch(e){}
    })();

  // Populate captions for images and videos, and wire image lightbox
    (function(){
      document.querySelectorAll('.figure-wrap').forEach(function(f){
        const cap = f.querySelector('.caption');
        if(!cap) return;
        const img = f.querySelector('img');
        const vid = f.querySelector('video');
        if(img) cap.textContent = img.getAttribute('data-caption') || img.alt || '';
        else if(vid) cap.textContent = vid.getAttribute('data-caption') || vid.getAttribute('title') || vid.getAttribute('aria-label') || '';
        else cap.textContent = '';
        if(vid){ try{ vid.muted = true; vid.playsInline = true; }catch(e){} }
      });

      // Image lightbox modal (shared behavior)
      (function(){
        const modal = document.createElement('div'); modal.id = 'img-modal'; modal.className = 'img-modal'; modal.setAttribute('aria-hidden','true');
        modal.innerHTML = `<div class="img-modal-content"><button id="img-close" class="img-close" aria-label="Close image">✕</button><img id="img-modal-img" alt=""/><div id="img-modal-caption" style="margin-top:8px;color:var(--muted)"></div></div>`;
        document.body.appendChild(modal);
        const style = document.createElement('style');
        style.textContent = `
  .img-modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(2,6,23,.6);z-index:10000;padding:24px}
  .img-modal[aria-hidden="false"]{display:flex}
  .img-modal-content{max-width:1000px;width:100%;background:transparent;border-radius:8px;text-align:center;display:flex;align-items:center;justify-content:center;flex-direction:column}
  .img-modal-content img{max-width:100%;max-height:80vh;height:auto;object-fit:contain;border-radius:8px;margin:0 auto}
  .img-close{position:absolute;right:28px;top:24px;background:transparent;border:0;color:#fff;font-size:28px;cursor:pointer}
  `;
        document.head.appendChild(style);
        const imgEl = document.getElementById('img-modal-img');
        const capEl = document.getElementById('img-modal-caption');
        const imgClose = document.getElementById('img-close');
        function openImg(src, alt){ imgEl.src = src; imgEl.alt = alt||''; capEl.textContent = alt||''; modal.setAttribute('aria-hidden','false'); }
        function closeImg(){ modal.setAttribute('aria-hidden','true'); imgEl.src=''; }
        document.querySelectorAll('.figure-wrap img').forEach(function(i){ i.style.cursor='zoom-in'; i.addEventListener('click', function(e){ e.preventDefault(); openImg(this.src, this.alt||''); }); });
        imgClose && imgClose.addEventListener('click', closeImg);
        modal.addEventListener('click', function(e){ if(e.target !== imgEl) closeImg(); });
        document.addEventListener('keydown', function(e){ if(e.key === 'Escape') closeImg(); });
      })();
        
    })();
    
    // Portrait/fullscreen video helper: ensure portrait videos open fullscreen without
    // stretching and preserve intrinsic aspect ratio. Adds a small fullscreen button
    // overlay and wires dblclick to request fullscreen. Uses native webkit fallback
    // when available (iOS) and listens for fullscreenchange to apply containment styles.
    (function(){
      function tryRequestFull(v, wrap){
        try{
          // Prefer requesting fullscreen on the wrapper element when available.
          // Some browsers (Chrome desktop) change how they display the video when
          // the video element itself is fullscreen and may ignore CSS transforms
          // or orientation metadata. Requesting fullscreen on the wrapper keeps
          // the element tree intact and preserves inline CSS behavior.
          var target = wrap || v;
          if(target.requestFullscreen) return target.requestFullscreen();
          if(target.webkitRequestFullscreen) return target.webkitRequestFullscreen();
          // Fall back to the video-specific fullscreen call for older webkit
          if(v.webkitEnterFullscreen) return v.webkitEnterFullscreen();
        }catch(e){/* ignore */}
      }

      document.querySelectorAll('.figure-wrap video, main video, video').forEach(function(v){
        function setup(){
          // add small fullscreen button overlay to the figure-wrap if missing
          var wrap = v.closest('.figure-wrap') || v.parentElement;
          if(wrap){
            wrap.style.position = wrap.style.position || 'relative';
            if(!wrap.querySelector('.video-fullscreen-btn')){
              var btn = document.createElement('button');
              btn.type = 'button';
              btn.className = 'video-fullscreen-btn';
              btn.setAttribute('aria-label','Open video fullscreen');
              btn.innerHTML = '\u21F2'; // diagonal arrows
              btn.style.cssText = 'position:absolute;right:12px;top:12px;background:rgba(0,0,0,0.5);color:#fff;border:0;border-radius:6px;padding:6px 8px;cursor:pointer;z-index:20;font-size:14px;line-height:1';
              btn.addEventListener('click', function(ev){ ev.stopPropagation(); tryRequestFull(v, wrap); });
              wrap.appendChild(btn);
            }
          }

          // dblclick on the video also requests fullscreen (desktop convenience)
          v.addEventListener('dblclick', function(ev){ ev.stopPropagation(); tryRequestFull(v, wrap); });

          // when entering fullscreen, force containment styling so portrait keeps aspect
          function onFS(){
            // fullscreenElement may be the wrapper or the video depending on browser
            var fsEl = document.fullscreenElement || document.webkitFullscreenElement || document.webkitCurrentFullScreenElement;
            var isFS = fsEl === v || fsEl === wrap;
            if(isFS){
              v.classList.add('in-fullscreen');
              v.style.objectFit = 'contain';
              v.style.width = 'auto';
              v.style.height = 'auto';
              v.style.maxHeight = '100vh';
              v.style.maxWidth = '100vw';
              // ensure background around video is dark for better letterboxing
              try{ var parent = v.closest('.video-modal-content') || document.fullscreenElement || document.body; parent.style.background = parent.style.background || 'rgba(0,0,0,1)'; }catch(e){}
            } else {
              v.classList.remove('in-fullscreen');
              v.style.removeProperty('object-fit');
              v.style.removeProperty('width');
              v.style.removeProperty('height');
              v.style.removeProperty('max-height');
              v.style.removeProperty('max-width');
            }
          }

          document.addEventListener('fullscreenchange', onFS);
          document.addEventListener('webkitfullscreenchange', onFS);
          v.addEventListener('webkitbeginfullscreen', onFS);
        }

        if(v.readyState >= 1) setup(); else v.addEventListener('loadedmetadata', setup);
      });
    })();
  </script>
  <script src="/assets/js/theme-toggle.js"></script>
</body>
</html>
