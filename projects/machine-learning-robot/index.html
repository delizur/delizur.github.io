<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Machine Learning Robot · Danny Elizur</title>
  <meta name="description" content="Training a robot in simulation using computer vision and ML techniques.">
  <link rel="icon" href="/assets/favicon.png" />
  <link rel="stylesheet" href="/assets/css/site-base.css">
  <style>
  :root{--bg:#ffffff;--panel:#f8fafc;--text:#0f172a;--muted:#334155;--brand:#38bdf8;--accent:#c084fc;--ring:#22d3ee}
  body{margin:0;font-family:ui-sans-serif,system-ui,Segoe UI,Roboto,Helvetica,Arial;background:var(--bg);color:var(--text);font-size:17px}
    header{background:var(--panel);padding:12px 16px;border-bottom:1px solid rgba(15,23,42,.06)}
  .nav{max-width:1000px;margin:auto;display:flex;align-items:center;justify-content:space-between}
  .brand{display:flex;gap:10px;align-items:center;font-weight:700;letter-spacing:.3px}
  .brand .dot{width:10px;height:10px;border-radius:999px;background:linear-gradient(135deg,#38bdf8,#c084fc);box-shadow:0 0 0 3px rgba(56,189,248,0.3)}
  .nav > div{display:flex;align-items:center;gap:8px}
  /* Improved icon sizing to avoid clipping and match homepage */
  .nav .icon, .pill .icon, svg.icon{width:20px;height:20px;display:inline-block;vertical-align:middle;overflow:visible}
  /* Ensure SVGs inside nav/pill/button are not clipped and align nicely */
  svg.icon, .nav svg, .pill svg{overflow:visible}
  .nav, .pill, .btn{overflow:visible;line-height:1;display:flex;align-items:center}
  .pill{display:inline-flex;gap:6px;align-items:center;padding:6px 10px;border-radius:999px;border:1px solid rgba(15,23,42,0.06)}
  .pill svg, .btn svg{display:block}
  /* prevent stroke scaling issues that sometimes clip artwork */
  svg.icon *{vector-effect:non-scaling-stroke}
  /* Button styling consistent with homepage */
  .btn{display:inline-flex;align-items:center;gap:8px;padding:8px 10px;border-radius:12px;background:linear-gradient(135deg,#38bdf8,#c084fc);color:#06131c;font-weight:700;border:none;cursor:pointer}
  .btn:focus{outline:3px solid #22d3ee}
    .nav a{color:inherit;text-decoration:none;margin-left:10px}
    /* make nav links match homepage: padded, rounded, and show dashed outline on hover */
    .nav a{padding:8px 10px;border-radius:10px}
    .nav a:hover{outline:1px dashed color-mix(in oklab, var(--brand, #38bdf8) 40%, transparent)}
    main{max-width:1000px;margin:24px auto;padding:24px}
  .card{background:var(--panel);border-radius:12px;padding:20px;border:1px solid rgba(15,23,42,.04)}
  .back-home{display:inline-block;color:var(--muted);text-decoration:none;margin-bottom:12px}
  .back-home:hover{text-decoration:underline}
  img{max-width:100%;height:auto;border-radius:10px;display:block}
  .gallery{display:flex;gap:12px;flex-wrap:wrap;margin:12px 0}
  .figure-wrap{position:relative;flex:0 0 calc(50% - 12px);width:calc(50% - 12px);aspect-ratio:16/9;overflow:hidden;min-width:140px}
  .figure-wrap img{width:100%;height:100%;object-fit:contain;object-position:center;display:block}
  .figure-empty{width:100%;min-height:160px;border-radius:10px;background:transparent}
  @media (max-width:700px){.figure-wrap{flex-basis:100%;max-width:100%}}
  .figure-wrap .caption{position:absolute;left:8px;right:8px;bottom:8px;padding:6px 10px;background:rgba(255,255,255,0.9);color:var(--text);font-size:0.9rem;border-radius:8px;opacity:0;transform:translateY(6px);transition:opacity .18s,transform .18s}
  .figure-wrap:hover .caption{opacity:1;transform:none}
    footer{max-width:1000px;margin:40px auto;color:var(--muted);padding:0 24px}
    .tags{margin:10px 0}
    .tag{display:inline-block;background:rgba(15,23,42,0.03);padding:6px 10px;border-radius:999px;margin-right:8px;color:var(--muted)}
    /* Dark mode support: system preference and explicit html.dark/body.dark override */
    @media (prefers-color-scheme: dark){
      :root{--bg:#0b1220;--panel:#0f1724;--text:#e6eef8;--muted:#9fb2c9}
      body{background:var(--bg);color:var(--text)}
      header, .card{background:var(--panel)}
      .figure-wrap .caption{background:rgba(6,10,16,0.7);color:var(--text)}
      .img-modal{background:rgba(2,6,23,0.85)}
      .img-close{color:#fff}
    }
    html.dark, body.dark{--bg:#0b1220;--panel:#0f1724;--text:#e6eef8;--muted:#9fb2c9}
  </style>
  <link rel="stylesheet" href="/assets/css/dark-caption-fix.css">
</head>
<body>
  <header>
    <nav class="nav" aria-label="Primary">
      <a class="brand" href="/"><span class="dot" aria-hidden="true"></span> <span>Danny Elizur</span></a>
    <div class="row">
  <a href="/#about">About</a>
  <a href="/#projects">Projects</a>
  <a href="/#design-teams">Design Teams</a>
  <a href="/#experience">Experience</a>
  <a href="/#education">Education</a>
  <a href="/#contact">Contact</a>
        <button id="theme" class="btn" aria-label="Toggle theme" style="margin-left:8px;font-size:0.95rem;padding:8px 10px"><svg class="icon" viewBox="-2 -2 28 28" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="width:16px;height:16px;vertical-align:middle;margin-right:6px"><path d="M12 3v2m0 14v2M3 12h2m14 0h2M5.64 5.64l1.41 1.41M16.95 16.95l1.41 1.41M5.64 18.36l1.41-1.41M16.95 7.05l1.41-1.41"/><circle cx="12" cy="12" r="5"/></svg><span style="vertical-align:middle">Theme</span></button>
      </div>
    </nav>
  </header>

  <main>
    <article class="card">
      <div style="margin-bottom:8px"><a class="back-home" href="/">← Back to home</a></div>
      <h1>Machine Learning Robot</h1>
      <p style="color:var(--muted);margin-top:6px">Line-following robot with simulated training using computer vision</p>
      <span class="tag">ROS</span><span class="tag">Linux Terminal</span><span class="tag">Machine Learning</span><span class="tag">Neural Networks</span><span class="tag">Python</span>

      <div class="gallery" style="margin:12px 0">
        <!-- Embedded demo videos from assets (play inline). Posters omitted to allow browser to show first frame when available. -->
        <div class="figure-wrap">
          <video controls muted playsinline preload="metadata" data-caption="SIFT algorithm demo" style="width:100%;height:100%;display:block;border-radius:8px;object-fit:contain">
            <source src="/assets/Machine Learning Robot/SIFT_demo.mp4" type="video/mp4">
            Your browser does not support the video tag.
          </video>
          <div class="caption">SIFT algorithm demo</div>
        </div>

        <div class="figure-wrap">
          <video controls muted playsinline preload="metadata" data-caption="Line-following robot using reinforcement learning" style="width:100%;height:100%;display:block;border-radius:8px;object-fit:contain">
            <source src="/assets/Machine Learning Robot/RL_linefollowing_demo.mp4" type="video/mp4">
            Your browser does not support the video tag.
          </video>
          <div class="caption">Line-following robot using reinforcement learning</div>
        </div>

        <div class="figure-wrap">
          <video controls muted playsinline preload="metadata" data-caption="Inverted pendulum training using reinforcement learning and CNNs" style="width:100%;height:100%;display:block;border-radius:8px;object-fit:contain">
            <source src="/assets/Machine Learning Robot/inverted_pendulum_demo.mp4" type="video/mp4">
            Your browser does not support the video tag.
          </video>
          <div class="caption">Inverted pendulum training using reinforcement learning and CNNs</div>
        </div>

        <div class="figure-wrap">
          <video controls muted playsinline preload="metadata" data-caption="Final Robot Full Competition Run" style="width:100%;height:100%;display:block;border-radius:8px;object-fit:contain">
            <source src="/assets/Machine Learning Robot/ENPH353_Competition_Run.mp4" type="video/mp4">
            Your browser does not support the video tag.
          </video>
          <div class="caption">Final Robot Full Competition Run</div>
        </div>
      </div>

  <p style="color:var(--muted)">Completed a project course on applied machine learning techniques. The course covered fully connected neural networks, convolutional neural networks (CNNs), reinforcement learning, imitation learning, as well as computer vision using SIFT (Scale-Invariant Feature Transform) and CNNs. The course culminated in a robot competition, where teams code and train a line-following robot to navigate an obstacle course while reading and processing image data on signposts along the way. The robots were programmed in ROS in a simulated Gazebo environment running on Linux. Our robot made use of imitation learning to train a line-following CNN architecture. The architecture was based on the NVIDIA End-to-End Steering model, and a different model was used for each section of the competition course. Signposts were read using a character classifier model, that was trained on an augmented set of signpost data, learning to reliably identify the characters on each of the signposts located around the course. Overall, the course offered an incredible hands-on experience designing and tweaking our own neural network architectures and learning how to modify training data to improve model accuracy and increase the computational efficiency of model training.</p>

      <hr style="margin:32px 0;border:none;border-top:1px solid rgba(15,23,42,.08)">

      <h2 style="margin-top:24px;margin-bottom:16px">Final Report</h2>
      <p style="color:var(--muted);margin-bottom:16px">Team 18 ENPH 353 Final Report – detailed documentation of our approach, results, and analysis.</p>

      <!-- PDF Viewer Section -->
      <div style="border:1px solid rgba(15,23,42,.08);border-radius:12px;padding:16px;background:var(--panel);margin-bottom:24px">
        <div style="display:flex;gap:8px;align-items:center;margin-bottom:16px;flex-wrap:wrap">
          <button id="pdf-prev" style="padding:8px 12px;border:1px solid rgba(15,23,42,.12);border-radius:8px;background:transparent;cursor:pointer;font-size:0.9rem" aria-label="Previous page">← Previous</button>
          <span id="pdf-page-info" style="color:var(--muted);font-size:0.9rem;flex:1">Page — of —</span>
          <button id="pdf-next" style="padding:8px 12px;border:1px solid rgba(15,23,42,.12);border-radius:8px;background:transparent;cursor:pointer;font-size:0.9rem" aria-label="Next page">Next →</button>
          <a id="pdf-download" href="/assets/Machine Learning Robot/Team_18_ENPH_353_Final_Report.pdf" download style="padding:8px 12px;border:1px solid rgba(15,23,42,.12);border-radius:8px;background:transparent;cursor:pointer;font-size:0.9rem;text-decoration:none;color:inherit">⬇ Download</a>
          <button id="pdf-fullscreen" style="padding:8px 12px;border:1px solid rgba(15,23,42,.12);border-radius:8px;background:transparent;cursor:pointer;font-size:0.9rem" aria-label="Fullscreen">⛶ Fullscreen</button>
        </div>
        <div id="pdf-container" style="border:1px solid rgba(15,23,42,.06);border-radius:8px;background:#fff;overflow:auto;max-height:600px;display:flex;justify-content:center;align-items:flex-start;padding:16px">
          <canvas id="pdf-canvas" style="display:block;max-width:100%;height:auto"></canvas>
        </div>
      </div>

      <style>
        #pdf-container:fullscreen {
          max-height: 100vh;
          padding: 20px;
        }
        #pdf-fullscreen-controls {
          display: none;
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          background: rgba(15,23,42,0.95);
          color: #e6eef8;
          padding: 12px 16px;
          z-index: 10001;
          gap: 8px;
          align-items: center;
          flex-wrap: wrap;
        }
        #pdf-container:fullscreen ~ #pdf-fullscreen-controls {
          display: flex;
        }
        #pdf-fullscreen-controls button {
          padding: 8px 12px;
          border: 1px solid rgba(230,238,248,0.2);
          border-radius: 8px;
          background: transparent;
          color: #e6eef8;
          cursor: pointer;
          font-size: 0.9rem;
        }
        #pdf-fullscreen-controls button:hover {
          background: rgba(230,238,248,0.1);
        }
        .pdf-corner-btn {
          display: none;
          position: fixed;
          z-index: 10000;
          background: rgba(56, 189, 248, 0.95);
          color: #0f172a;
          border: 2px solid rgba(56, 189, 248, 1);
          border-radius: 8px;
          padding: 12px 14px;
          cursor: pointer;
          font-size: 1.2rem;
          font-weight: bold;
          box-shadow: 0 4px 12px rgba(56, 189, 248, 0.4);
        }
        .pdf-corner-btn.visible {
          display: block !important;
        }
        #pdf-corner-prev {
          bottom: 20px;
          left: 20px;
        }
        #pdf-corner-next {
          bottom: 20px;
          right: 20px;
        }
        .pdf-corner-btn:hover {
          background: rgba(56, 189, 248, 1);
          box-shadow: 0 6px 16px rgba(56, 189, 248, 0.6);
          transform: scale(1.1);
        }
        /* Dark mode support for PDF buttons */
        @media (prefers-color-scheme: dark) {
          #pdf-prev, #pdf-next, #pdf-fullscreen, #pdf-download {
            color: #e6eef8 !important;
            border-color: rgba(230, 238, 248, 0.2) !important;
          }
          #pdf-prev:hover, #pdf-next:hover, #pdf-fullscreen:hover, #pdf-download:hover {
            background: rgba(230, 238, 248, 0.1) !important;
          }
        }
        html.dark #pdf-prev, html.dark #pdf-next, html.dark #pdf-fullscreen, html.dark #pdf-download {
          color: #e6eef8 !important;
          border-color: rgba(230, 238, 248, 0.2) !important;
        }
        html.dark #pdf-prev:hover, html.dark #pdf-next:hover, html.dark #pdf-fullscreen:hover, html.dark #pdf-download:hover {
          background: rgba(230, 238, 248, 0.1) !important;
        }
      </style>

      <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
      <script>
        (function(){
          const pdfjsLib = window['pdfjs-dist/build/pdf'];
          pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
          
          const canvas = document.getElementById('pdf-canvas');
          const ctx = canvas.getContext('2d');
          const container = document.getElementById('pdf-container');
          const pageInfo = document.getElementById('pdf-page-info');
          const prevBtn = document.getElementById('pdf-prev');
          const nextBtn = document.getElementById('pdf-next');
          const fullscreenBtn = document.getElementById('pdf-fullscreen');
          
          let pdfDoc = null;
          let pageNum = 1;
          let pageCount = 0;
          
          function renderPage(num) {
            pdfDoc.getPage(num).then(function(page) {
              const viewport = page.getViewport({ scale: 2 });
              canvas.width = viewport.width;
              canvas.height = viewport.height;
              
              const renderContext = { canvasContext: ctx, viewport: viewport };
              page.render(renderContext);
              
              pageInfo.textContent = 'Page ' + num + ' of ' + pageCount;
              const fsPageInfo = document.getElementById('pdf-fullscreen-page-info');
              if(fsPageInfo) fsPageInfo.textContent = 'Page ' + num + ' of ' + pageCount;
              
              prevBtn.disabled = num <= 1;
              nextBtn.disabled = num >= pageCount;
              const fsPrevBtn = document.getElementById('pdf-fullscreen-prev');
              const fsNextBtn = document.getElementById('pdf-fullscreen-next');
              if(fsPrevBtn) fsPrevBtn.disabled = num <= 1;
              if(fsNextBtn) fsNextBtn.disabled = num >= pageCount;
            });
          }
          
          function navigate(delta) {
            if (pageNum + delta > 0 && pageNum + delta <= pageCount) {
              pageNum += delta;
              renderPage(pageNum);
              if (document.fullscreenElement === container) {
                canvas.scrollIntoView({ behavior: 'smooth', block: 'start' });
              }
            }
          }
          
          prevBtn.addEventListener('click', function() { navigate(-1); });
          nextBtn.addEventListener('click', function() { navigate(1); });
          
          // Create fullscreen controls
          const fsControls = document.createElement('div');
          fsControls.id = 'pdf-fullscreen-controls';
          fsControls.innerHTML = `
            <button id="pdf-fullscreen-prev" aria-label="Previous page">← Previous</button>
            <span id="pdf-fullscreen-page-info" style="color:#e6eef8;font-size:0.9rem;flex:1">Page — of —</span>
            <button id="pdf-fullscreen-next" aria-label="Next page">Next →</button>
            <button id="pdf-fullscreen-exit" aria-label="Exit fullscreen">Exit ⛶</button>
          `;
          container.parentElement.insertBefore(fsControls, container.nextSibling);
          
          const cornerPrev = document.createElement('button');
          cornerPrev.id = 'pdf-corner-prev';
          cornerPrev.className = 'pdf-corner-btn';
          cornerPrev.setAttribute('aria-label', 'Previous page');
          cornerPrev.textContent = '←';
          cornerPrev.style.display = 'none';
          document.body.appendChild(cornerPrev);
          
          const cornerNext = document.createElement('button');
          cornerNext.id = 'pdf-corner-next';
          cornerNext.className = 'pdf-corner-btn';
          cornerNext.setAttribute('aria-label', 'Next page');
          cornerNext.textContent = '→';
          cornerNext.style.display = 'none';
          document.body.appendChild(cornerNext);
          
          fullscreenBtn.addEventListener('click', function() {
            if (container.requestFullscreen) {
              container.requestFullscreen().then(() => {
                setTimeout(() => {
                  cornerPrev.classList.add('visible');
                  cornerNext.classList.add('visible');
                  cornerPrev.style.display = 'block';
                  cornerNext.style.display = 'block';
                  console.log('Buttons made visible');
                }, 100);
              }).catch(err => console.error('Fullscreen error:', err));
            } else if (container.webkitRequestFullscreen) {
              container.webkitRequestFullscreen();
              setTimeout(() => {
                cornerPrev.classList.add('visible');
                cornerNext.classList.add('visible');
                cornerPrev.style.display = 'block';
                cornerNext.style.display = 'block';
              }, 100);
            }
          });
          
          document.addEventListener('fullscreenchange', function() {
            if (document.fullscreenElement) {
              cornerPrev.classList.add('visible');
              cornerNext.classList.add('visible');
              cornerPrev.style.display = 'block';
              cornerNext.style.display = 'block';
              console.log('Fullscreen entered - buttons visible');
            } else {
              cornerPrev.classList.remove('visible');
              cornerNext.classList.remove('visible');
              cornerPrev.style.display = 'none';
              cornerNext.style.display = 'none';
              console.log('Fullscreen exited - buttons hidden');
            }
          });
          
          document.getElementById('pdf-fullscreen-prev').addEventListener('click', function() { navigate(-1); });
          document.getElementById('pdf-fullscreen-next').addEventListener('click', function() { navigate(1); });
          cornerPrev.addEventListener('click', function() { navigate(-1); });
          cornerNext.addEventListener('click', function() { navigate(1); });
          
          document.getElementById('pdf-fullscreen-exit').addEventListener('click', function() {
            if (document.fullscreenElement) {
              document.exitFullscreen();
            }
          });
          
          // Keyboard navigation in fullscreen
          document.addEventListener('keydown', function(e) {
            if (document.fullscreenElement === container) {
              if (e.key === 'ArrowLeft') navigate(-1);
              if (e.key === 'ArrowRight') navigate(1);
              if (e.key === 'Escape') document.exitFullscreen();
            }
          });
          
          // Load PDF
          pdfjsLib.getDocument('/assets/Machine Learning Robot/Team_18_ENPH_353_Final_Report.pdf').promise.then(function(doc) {
            pdfDoc = doc;
            pageCount = doc.numPages;
            renderPage(pageNum);
          }).catch(function(error) {
            console.error('Error loading PDF:', error);
            container.innerHTML = '<p style="color:var(--muted);padding:24px">Unable to load PDF. You can <a href="/assets/Machine Learning Robot/Team_18_ENPH_353_Final_Report.pdf">download it here</a>.</p>';
          });
        })();
      </script>
    </article>
  </main>

  <footer>
    <div style="text-align:center;padding:16px;color:var(--muted)">© <span id="year">2025</span> Danny Elizur</div>
  </footer>
  <script>
    // Apply persisted theme from root site (if present) so project pages follow the site toggle.
    (function(){ try{ const theme = localStorage.getItem('theme'); if(theme==='dark') document.documentElement.classList.add('dark'); else if(theme==='light') document.documentElement.classList.remove('dark'); }catch(e){} })();
    document.getElementById('year').textContent=new Date().getFullYear();
    // Theme toggle on project pages: mirror the homepage behavior
    (function(){
      try{
        const btn = document.getElementById('theme');
        function applyTheme(t){ document.documentElement.classList.remove('light','dark'); if(t==='light') document.documentElement.classList.add('light'); else if(t==='dark') document.documentElement.classList.add('dark'); localStorage.setItem('theme', t); }
        btn && btn.addEventListener('click', function(){ const cur = document.documentElement.classList.contains('light') ? 'light' : 'dark'; applyTheme(cur==='light' ? 'dark' : 'light'); });
      }catch(e){}
    })();
    (function(){
      document.querySelectorAll('.figure-wrap').forEach(function(f){
        const cap = f.querySelector('.caption');
        if(!cap) return;
        const img = f.querySelector('img');
        const vid = f.querySelector('video');
        if(img) cap.textContent = img.getAttribute('data-caption') || img.alt || '';
        else if(vid) cap.textContent = vid.getAttribute('data-caption') || vid.getAttribute('title') || vid.getAttribute('aria-label') || '';
        else cap.textContent = '';
      });

      // Image lightbox modal (shared behavior)
      (function(){
        const modal = document.createElement('div'); modal.id = 'img-modal'; modal.className = 'img-modal'; modal.setAttribute('aria-hidden','true');
        modal.innerHTML = `<div class="img-modal-content"><button id="img-close" class="img-close" aria-label="Close image">✕</button><img id="img-modal-img" alt=""/><div id="img-modal-caption" style="margin-top:8px;color:var(--muted)"></div></div>`;
        document.body.appendChild(modal);
  const style = document.createElement('style');
  style.textContent = `
  .img-modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(2,6,23,.6);z-index:10000;padding:24px}
  .img-modal[aria-hidden="false"]{display:flex}
  .img-modal-content{max-width:1000px;width:100%;background:transparent;border-radius:8px;text-align:center;display:flex;align-items:center;justify-content:center;flex-direction:column}
  .img-modal-content img{max-width:100%;max-height:80vh;height:auto;object-fit:contain;border-radius:8px;margin:0 auto}
  .img-close{position:absolute;right:28px;top:24px;background:transparent;border:0;color:#fff;font-size:28px;cursor:pointer}
  `;
        document.head.appendChild(style);
  const imgEl = document.getElementById('img-modal-img');
  const capEl = document.getElementById('img-modal-caption');
  const imgClose = document.getElementById('img-close');
  function openImg(src, alt){ imgEl.src = src; imgEl.alt = alt||''; capEl.textContent = alt||''; modal.setAttribute('aria-hidden','false'); }
  function closeImg(){ modal.setAttribute('aria-hidden','true'); imgEl.src=''; }
  document.querySelectorAll('.figure-wrap img').forEach(function(i){ i.style.cursor='zoom-in'; i.addEventListener('click', function(e){ e.preventDefault(); openImg(this.src, this.alt||''); }); });
  imgClose.addEventListener('click', closeImg);
  // close when clicking anywhere except the image itself
  modal.addEventListener('click', function(e){ if(e.target !== imgEl) closeImg(); });
  document.addEventListener('keydown', function(e){ if(e.key==='Escape') closeImg(); });
      })();
    })();
  </script>
  <script src="/assets/js/theme-toggle.js"></script>
</body>
</html>
